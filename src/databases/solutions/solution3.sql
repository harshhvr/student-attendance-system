SELECT a.Subject_code, SUM(CASE WHEN a.Present = 'present' THEN 1 ELSE 0 END) AS Total_present, SUM(CASE WHEN a.Present = 'absent' THEN 1 ELSE 0 END) AS Total_absent, ROUND((SUM(CASE WHEN a.Present = 'present' THEN 1 ELSE 0 END) * 100) / (SUM(CASE WHEN a.Present = 'present' THEN 1 ELSE 0 END) + SUM(CASE WHEN a.Present = 'absent' THEN 1 ELSE 0 END)), 2) AS Attendance_percent FROM ATTENDANCE a INNER JOIN SUBJECT c ON a.Subject_code = c.Subject_code WHERE a.Sid = 'DE2148' AND a.Subject_code = c.Subject_code GROUP BY a.Subject_code, c.Subject_code;